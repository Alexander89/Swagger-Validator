<h2>Test-Server</h2>

<p *ngIf="connect">
	Ready: Access link: http://{{source}}/{{sessionId}}/&lt;call&gt;
</p>

<div class="row">
	<div class="col-3">select testing call</div>
	<div class="col-9">
		<select name="callSelect" [(ngModel)]="selectedCall">
			<option *ngFor="let call of availableCalls; trackBy: trackAvCalls" value="{{call.id}}">{{call.id}} {{call.method}} {{call.callName}}</option>
		</select>
	</div>
</div>

<div *ngIf="currentCall" class="card">
	<div class="row card-header">
		<div class="col-11">{{currentCall.callName}} {{currentCall?.method}} {{currentCall?.callName}}</div>
	</div>
	<div class="card-body">
		<div *ngFor="let res of responses; trackBy: trackResponses" class="row">
			<div class="card col-12">
				<div class="row card-header">
					<div class="col-1 px-0"><strong>{{res?.name}}</strong></div>
					<div class="col-11">{{res?.description}}</div>
				</div>
				<div class="card-body">
					<div class="col-11">{{currentCall?.id}} {{currentCall?.method}} {{currentCall?.callName}}</div>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="card">
	<div class="row card-header">
		<div class="col-10 h4">
			Log
		</div>
		<div class="col-2">
			<div class="btn btn-secondary block" (click)="clearLog()">clear</div>
		</div>
	</div>
	<div class="row card-body">
		<div class="col-3">
			Time
		</div>
		<div class="col-7">
			Message
		</div>
		<div class="col-2">
			lvl
		</div>
	</div>
	<div *ngFor="let row of log" class="row">
		<div class="col-3">
			{{row.timestamp}}
		</div>
		<div class="col-7">
			{{row.message}}
		</div>
		<div class="col-2">
			{{row.lvl}}
		</div>
	</div>
</div>

